<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458</title><meta name="description" content="Documentation for ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458</h2></div><div class="tsd-panel tsd-typography"><a id="md:informe-de-práctica-9-aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:informe-de-práctica-9-aplicación-para-coleccionistas-de-cartas-magic">Informe de Práctica 9: Aplicación para coleccionistas de cartas Magic</a></h1><table>
<thead>
<tr>
<th><strong>Autor</strong></th>
<th><strong>Profesor</strong></th>
<th><strong>Asignatura</strong></th>
<th><strong>Universidad</strong></th>
<th><strong>Ubicación</strong></th>
<th><strong>Fecha</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong><em>TOMÁS JAVES TOMMASONE</em></strong></td>
<td><strong><em>Dr. EDUARDO MANUEL SEGREDO GONZALEZ</em></strong></td>
<td><strong><em>DESARROLLO DE SISTEMAS INFORMÁTICOS</em></strong></td>
<td><strong><em>UNIVERSIDAD DE LA LAGUNA</em></strong></td>
<td><strong><em>SAN CRISTOBAL DE LA LAGUNA</em></strong></td>
<td><strong><em>19/03/2024</em></strong></td>
</tr>
</tbody></table>
<a id="md:status-badges" class="tsd-anchor"></a><h2><a href="#md:status-badges">Status Badges</a></h2><p align='center'>
  <a href='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/sonarcloud.yml'>
    <img src='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/sonarcloud.yml/badge.svg?branch=main' alt = 'Quality Gate Status'>
  </a>

  <a href='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/.coveralls.yml'>
    <img src='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/.coveralls.yml/badge.svg?branch=main' alt='Coveralls'>
  </a>

  <a href='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/node.js.yml'>
    <img src='https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458/actions/workflows/node.js.yml/badge.svg' alt='Tests'>
  </a>
</p>

<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice:</a></h2><ol>
<li><a href="#md:1-objetivo"><em>Objetivo</em></a>  </li>
<li><a href="#md:2-tareas-previas"><em>Tareas Previas</em></a><br>2.1 <a href="#md:yargs-y-chalk"><em>Yargs y Chalk</em></a><br>2.2 <a href="#md:api-nodejs"><em>API Node.js</em></a><br>2.3 <a href="#md:cobertura-de-código-c8"><em>Cobertura de código &quot;c8&quot;</em></a>  </li>
<li><a href="#md:3-github-actions"><em>Github Actions</em></a><br>3.1 <a href="#md:nodejs"><em>Node.js</em></a><br>3.2 <a href="#md:coveralls"><em>Coveralls</em></a><br>3.3 <a href="#md:sonarcloud"><em>SonarCloud</em></a>  </li>
<li><a href="#md:4-ejercicio-propuesto"><em>Ejercicio Propuesto</em></a>  </li>
<li><a href="#md:5-conclusión"><em>Conclusión</em></a>  </li>
<li><a href="#md:6-referencias-bibliográficas"><em>Referencias Bibliográficas</em></a></li>
</ol>
<a id="md:1-objetivo" class="tsd-anchor"></a><h2><a href="#md:1-objetivo">1. Objetivo</a></h2><p>Esta práctica tiene como objetivo primordial el fortalecimiento de habilidades en programación avanzada con TypeScript, manejo de la API síncrona de Node.js para operaciones en el sistema de archivos, y la creación de interfaces de línea de comandos eficientes y amigables para el usuario mediante los paquetes yargs y chalk. A través de la realización de este proyecto, los estudiantes profundizarán su comprensión en la estructuración y organización de proyectos de software complejos, adoptando prácticas de desarrollo profesional como el control de versiones, documentación del código y metodologías de testing.</p>
<p>Además, la práctica pone énfasis en el aprendizaje y aplicación de técnicas de cobertura de código y análisis de calidad mediante herramientas modernas como c8 para la cobertura de pruebas, así como la integración con SonarCloud para el análisis continuo de la calidad del código y seguridad. Esto refuerza la importancia de la calidad del software y seguridad desde las etapas tempranas del desarrollo, preparando a los estudiantes para enfrentar desafíos reales en entornos de producción.</p>
<a id="md:2-tareas-previas" class="tsd-anchor"></a><h2><a href="#md:2-tareas-previas">2. Tareas Previas</a></h2><p>Antes de abordar el desarrollo de la Práctica 9 - Aplicación para coleccionistas de cartas Magic, se realizaron varias tareas previas esenciales para asegurar una base sólida en conocimientos y herramientas que serían fundamentales para el éxito del proyecto. Estas tareas previas incluyen:</p>
<p><em>Aceptación de la Asignación de GitHub Classroom</em><br>Se comenzó aceptando la asignación en GitHub Classroom, lo cual generó un repositorio específico para el proyecto. Esta etapa inicial fue crucial para establecer un entorno de control de versiones donde todo el código desarrollado y los documentos asociados podrían ser alojados, compartidos y revisados de manera eficiente. La familiarización con Git y GitHub es esencial para cualquier desarrollador de software moderno, facilitando la colaboración y el seguimiento de cambios en proyectos complejos.</p>
<p><em>Aprendizaje y Uso de los Paquetes Yargs y Chalk</em><br>Para la creación de una interfaz de línea de comandos (CLI) eficiente y amigable, se hizo uso de dos paquetes de Node.js ampliamente reconocidos:</p>
<p><strong>Yargs</strong>: Este paquete permite construir interfaces de línea de comandos robustas, facilitando la definición de comandos, argumentos y opciones. A través de Yargs, se logró gestionar de manera efectiva la interacción del usuario con la aplicación, parseando los argumentos de entrada y asociándolos a las diferentes funcionalidades requeridas, como añadir, modificar o eliminar cartas de la colección.</p>
<p><strong>Chalk</strong>: Chalk se utilizó para mejorar la experiencia de usuario al añadir color y estilos al texto mostrado en la consola. Este paquete permitió destacar mensajes importantes, diferenciar entre mensajes informativos (verdes) y de error (rojos), y presentar la información de manera más organizada y legible.</p>
<p><em>Familiarización con la API Síncrona de Node.js para el Trabajo con el Sistema de Ficheros</em><br>Dado que la persistencia de datos era un requisito fundamental del proyecto, se dedicó tiempo a comprender y aplicar la API síncrona de Node.js para el manejo del sistema de ficheros. Esto incluyó operaciones como leer, escribir y modificar archivos JSON que almacenan la información de las cartas. La capacidad de gestionar estos archivos directamente desde la aplicación fue vital para mantener actualizada la colección de cartas de cada usuario.</p>
<p>Estas tareas previas no solo fueron esenciales para sentar las bases técnicas del proyecto, sino que también contribuyeron al desarrollo de habilidades relevantes en la creación de aplicaciones con Node.js, preparando el terreno para abordar con éxito los retos de programación propuestos en la práctica. La familiarización con estas herramientas y procesos garantizó una comprensión sólida de los componentes necesarios para desarrollar una aplicación de consola efectiva y funcional.</p>
<a id="md:yargs-y-chalk" class="tsd-anchor"></a><h3><a href="#md:yargs-y-chalk">Yargs y Chalk</a></h3><p><em>Funcionalidad de Yargs</em>:</p>
<p>Yargs es una biblioteca de Node.js diseñada para construir interfaces de línea de comandos (CLI) complejas y fáciles de usar. Permite analizar y gestionar argumentos pasados desde la línea de comandos de una forma estructurada, facilitando la definición de comandos, opciones, y argumentos con características tales como obligatoriedad, valores predeterminados, y la generación automática de mensajes de ayuda. Esto es crucial para el desarrollo de aplicaciones CLI que requieren interacción del usuario, proporcionando una base sólida para una experiencia de usuario clara y dirigida.</p>
<p><em>Instalación de Yargs y @types/yargs</em>:</p>
<p>Para comenzar a integrar Yargs en un proyecto y desarrollar una interfaz de línea de comandos robusta, es necesario instalar el paquete yargs junto con sus definiciones de tipos para TypeScript. Esto garantiza una integración fluida y aprovecha las ventajas de la tipificación fuerte de TypeScript. Se realiza mediante los siguientes comandos ejecutados en el terminal dentro del directorio del proyecto:</p>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">yargs</span><span class="hl-1"> --</span><span class="hl-0">save</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1">-</span><span class="hl-0">dev</span><span class="hl-1"> @</span><span class="hl-0">types</span><span class="hl-1">/</span><span class="hl-0">yargs</span>
</code><button>Copy</button></pre>
<p>La instalación de @types/yargs como una dependencia de desarrollo asegura que se pueda hacer uso de Yargs con el soporte completo de tipado de TypeScript, mejorando la calidad del código y facilitando el desarrollo.</p>
<p><em>Uso Básico de Yargs</em>:</p>
<p>Con Yargs ya instalado, definir comandos y opciones para la aplicación CLI se convierte en un proceso intuitivo. A continuación, se muestra un ejemplo básico de cómo utilizar Yargs para procesar argumentos de línea de comandos y definir un comando simple:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">yargs</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">hideBin</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs/helpers&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">yargs</span><span class="hl-1">(</span><span class="hl-4">hideBin</span><span class="hl-1">(</span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">argv</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-4">command</span><span class="hl-1">(</span><span class="hl-3">&#39;saludar&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Emite un saludo&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">nombre:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">describe:</span><span class="hl-1"> </span><span class="hl-3">&#39;Tu nombre&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;string&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }, (</span><span class="hl-0">argv</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`¡Hola, </span><span class="hl-5">${</span><span class="hl-0">argv</span><span class="hl-6">.</span><span class="hl-0">nombre</span><span class="hl-5">}</span><span class="hl-3">!`</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-4">demandCommand</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-3">&#39;Debes proporcionar al menos un comando.&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-4">help</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">argv</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>Este fragmento define un comando saludar que exige un argumento <em>--nombre</em>. Al ejecutar este comando, se generará un saludo personalizado. Este ejemplo demuestra la simplicidad con la que Yargs permite crear una CLI interactiva, facilitando la definición de comandos específicos y la gestión eficiente de opciones.</p>
<p>La combinación de Yargs con TypeScript mediante la instalación de @types/yargs enriquece el desarrollo de aplicaciones CLI, permitiendo un diseño más estructurado y tipos seguros para argumentos y opciones, lo cual es esencial para construir aplicaciones CLI avanzadas y amigables para el usuario en Node.js.</p>
<p><em>Funcionalidad de Chalk</em>:</p>
<p>Chalk es una biblioteca que mejora la experiencia de interacción con aplicaciones de línea de comandos (CLI) al permitir la adición de colores y estilos al texto en la consola. Facilita destacar mensajes de error, advertencias o cualquier información relevante mediante el uso de diferentes colores y estilos, como negrita o subrayado. Esto contribuye significativamente a la legibilidad y al atractivo visual de la salida de la aplicación, haciendo la interacción más clara y agradable.</p>
<p><em>Instalación de Chalk</em>:</p>
<p>Para incorporar Chalk y sus capacidades de estilización de texto en un proyecto, se realiza su instalación mediante npm con el siguiente comando:</p>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">chalk</span><span class="hl-1"> --</span><span class="hl-0">save</span>
</code><button>Copy</button></pre>
<p>Añadir Chalk como una dependencia en el archivo package.json permite su uso a lo largo del proyecto, facilitando así la mejora visual de las interfaces CLI desarrolladas.</p>
<p><em>Configuración para Módulos ESM</em>:</p>
<p>Dado que la versión más reciente de Chalk opera como un módulo ESM (ECMAScript Module), se requieren algunas configuraciones específicas en el proyecto para su adecuada utilización:</p>
<p>Se debe ajustar el archivo package.json para especificar el tipo de módulo, estableciendo la propiedad <em>type</em> en <em>module</em>:</p>
<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;theory-examples&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;module&quot;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>La configuración del compilador TypeScript, en tsconfig.json, debe modificarse para soportar módulos ESM, asignando a la propiedad module el valor node16 o superior. Esto asegura que los módulos del proyecto se traten como ESM.</p>
<p>Para ejecutar pruebas con Mocha en entornos que utilizan módulos ESM, es necesario actualizar el archivo .mocharc.json para indicar el uso de un cargador ESM:</p>
<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;extension&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;ts&quot;</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;spec&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;tests/**/*.spec.ts&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;loader&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;ts-node/esm&quot;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Esta configuración permite a Mocha ejecutar las pruebas haciendo uso del cargador ESM de ts-node, siendo importante añadir la extensión .js a los módulos importados en los archivos de prueba.</p>
<p><em>Uso Básico de Chalk</em>:</p>
<p>A continuación se muestra cómo emplear Chalk para estilizar el texto en la consola de forma efectiva:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">chalk</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;chalk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">blue</span><span class="hl-1">(</span><span class="hl-3">&#39;Texto en azul&#39;</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">.</span><span class="hl-4">bold</span><span class="hl-1">(</span><span class="hl-3">&#39;Texto en rojo y en negrita&#39;</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1">.</span><span class="hl-4">bgWhite</span><span class="hl-1">(</span><span class="hl-3">&#39;Texto verde con fondo blanco&#39;</span><span class="hl-1">));</span>
</code><button>Copy</button></pre>
<p>Este ejemplo demuestra la aplicación de colores, estilos de texto como la negrita y fondos de color en la salida de la consola, ilustrando la flexibilidad y facilidad de uso de Chalk para realzar visualmente las aplicaciones CLI.</p>
<p>La combinación de Chalk con otras herramientas, como Yargs, facilita la creación de aplicaciones CLI que no solamente son funcionales y fáciles de manejar, sino que también ofrecen una experiencia visualmente enriquecedora y amigable.</p>
<a id="md:api-nodejs" class="tsd-anchor"></a><h3><a href="#md:api-nodejs">API Node.js</a></h3><p><em>Funcionalidad de la API de Node.js</em>:</p>
<p>Node.js proporciona una API completa para interactuar con el sistema de ficheros de manera síncrona y asíncrona. Esta API, accesible a través del módulo <em>fs</em>, permite realizar operaciones de entrada y salida (I/O) tales como leer, escribir, modificar y eliminar archivos, entre otras. Utilizar la API de sistema de ficheros es fundamental en aplicaciones que requieren persistencia de datos, manejo de configuraciones, o simplemente acceso y manipulación de archivos en el servidor.</p>
<p><em>Uso Básico de la API de Node.js para el Sistema de Ficheros</em>:</p>
<p>Para comenzar a utilizar las funcionalidades del sistema de ficheros en el proyecto Node.js, primero debemos importar el módulo fs. A continuación, se presenta cómo realizar algunas operaciones básicas de manera síncrona, lo que significa que cada operación bloqueará el hilo de ejecución hasta que se complete. Esto puede ser útil para scripts o aplicaciones donde el flujo secuencial es necesario y no afecta negativamente la experiencia del usuario o el rendimiento.</p>
<p><em>Lectura de un Archivo</em>:</p>
<p>Para leer el contenido de un archivo de forma síncrona, se puede utilizar el método <em>readFileSync</em>:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">contenido</span><span class="hl-1"> = </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">readFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;ruta/al/archivo.txt&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">contenido</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Este código lee el contenido de archivo.txt y lo imprime en la consola. El segundo argumento &#39;utf8&#39; especifica la codificación del archivo, permitiendo que el contenido se lea como texto.</p>
<p><em>Escritura en un Archivo</em>:</p>
<p>Para escribir en un archivo, se puede usar <em>writeFileSync</em>. Si el archivo especificado no existe, Node.js lo creará:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">writeFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;ruta/al/nuevoArchivo.txt&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Contenido del archivo&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Este código crea o sobrescribe nuevoArchivo.txt con el texto &quot;<em>Contenido del archivo</em>&quot;.</p>
<p><em>Agregar Contenido a un Archivo Existente</em>:</p>
<p>Si se desea agregar contenido al final de un archivo existente sin sobrescribirlo, se puede usar <em>appendFileSync</em>:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">appendFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;ruta/al/archivo.txt&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;</span><span class="hl-9">\n</span><span class="hl-3">Texto adicional&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Este código añade &quot;<em>Texto adicional</em>&quot; al final del archivo especificado, precedido por un salto de línea.</p>
<p><em>Eliminar un Archivo</em>:</p>
<p>Para eliminar un archivo, el método <em>unlinkSync</em> puede ser utilizado:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">unlinkSync</span><span class="hl-1">(</span><span class="hl-3">&#39;ruta/al/archivoAEliminar.txt&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Este código elimina el archivo archivoAEliminar.txt del sistema de ficheros.</p>
<p><em>Consideraciones</em>:</p>
<p>Mientras que las operaciones síncronas son simples y fáciles de entender, pueden no ser la mejor elección para aplicaciones que requieren alta concurrencia o para operaciones de I/O que pueden tardar significativamente. En esos casos, se recomienda explorar las versiones asíncronas de estos métodos, que utilizan callbacks, promesas, o async/await para manejar operaciones sin bloquear el hilo principal de ejecución.</p>
<p>La API de Node.js para el sistema de ficheros es extensa y poderosa, brindando a los desarrolladores un control detallado sobre cómo interactuar con archivos y directorios, lo que la hace esencial para una amplia variedad de aplicaciones Node.js.</p>
<a id="md:cobertura-de-código-c8" class="tsd-anchor"></a><h3><a href="#md:cobertura-de-código-c8">Cobertura de código c8</a></h3><p><em>Funcionalidad de c8</em>:</p>
<p>c8 es una herramienta avanzada de cobertura de código diseñada específicamente para Node.js, que aprovecha las capacidades nativas de cobertura de código integradas en el motor V8, que es la base de Node.js. c8 ofrece un medio eficiente para recolectar estadísticas detalladas sobre la cobertura de las líneas de código, ramas y funciones dentro de una aplicación durante la ejecución de pruebas. La utilización de c8 es crucial en el ciclo de desarrollo de software, ya que facilita la identificación de segmentos del código no probados y asegura que las pruebas sean exhaustivas, contribuyendo significativamente a la mejora de la calidad del software.</p>
<p><em>Instalación de c8</em>:</p>
<p>Para incorporar c8 en un proyecto Node.js y comenzar con la evaluación de la cobertura de pruebas, es necesario instalar la herramienta mediante npm. Este proceso se realiza ejecutando el siguiente comando en la terminal dentro del directorio del proyecto:</p>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1">-</span><span class="hl-0">dev</span><span class="hl-1"> </span><span class="hl-0">c8</span>
</code><button>Copy</button></pre>
<p>Al instalar c8 como una dependencia de desarrollo (--save-dev), se garantiza que la herramienta se utilice exclusivamente para las pruebas en el entorno de desarrollo, sin ser incluida en el paquete de producción final.</p>
<p><em>Configuración en package.json</em>:</p>
<p>Dado que NYC no es compatible con módulos ESM, se recomienda el uso de c8 para proyectos que utilicen este formato. Para ello, es necesario ajustar los scripts en el archivo package.json, reemplazando el comando de NYC por c8 para el análisis de cobertura:</p>
<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;theory-examples&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;module&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;scripts&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;dev&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;tsc-watch --onSuccess </span><span class="hl-9">\&quot;</span><span class="hl-3">node dist/index.js</span><span class="hl-9">\&quot;</span><span class="hl-3">&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;doc&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;typedoc&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;test&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;mocha&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;coverage&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;c8 npm test &amp;&amp; c8 report --reporter=lcov&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><em>Uso Básico de c8</em>:</p>
<p>Con c8 correctamente instalado, se puede proceder a ejecutar las pruebas y generar informes de cobertura. Si se utilizan marcos de prueba como Mocha, el comando para ejecutar pruebas bajo la supervisión de c8 sería:</p>
<pre><code class="language-typescript"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-0">c8</span><span class="hl-1"> </span><span class="hl-0">mocha</span>
</code><button>Copy</button></pre>
<p>Este comando llevará a cabo las pruebas con Mocha, recolectando datos sobre la cobertura de código para su posterior análisis.</p>
<p><em>Generación de Informes de Cobertura</em>:</p>
<p>Tras finalizar las pruebas, c8 permite la generación de informes en distintos formatos, facilitando el análisis de la cobertura de código. Para generar un informe legible directamente en la consola, se puede utilizar:</p>
<pre><code class="language-typescript"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-0">c8</span><span class="hl-1"> </span><span class="hl-0">report</span>
</code><button>Copy</button></pre>
<p>Para obtener una visión más detallada, es posible generar informes en formato HTML, que crean un conjunto interactivo de páginas web para una revisión detallada de la cobertura de código:</p>
<pre><code class="language-typescript"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-0">c8</span><span class="hl-1"> </span><span class="hl-0">report</span><span class="hl-1"> --</span><span class="hl-0">reporter</span><span class="hl-1">=</span><span class="hl-0">html</span>
</code><button>Copy</button></pre>
<p>Este comando creará un informe en el directorio ./coverage, accesible mediante un navegador web, ofreciendo una inspección profunda de la cobertura de código línea por línea.</p>
<p><em>Consideraciones</em>:</p>
<p>La adopción de c8 en el flujo de desarrollo y en procesos de Integración y Despliegue Continuo (CI/CD) es un paso esencial hacia la mejora continua de la calidad del software. Al asegurar una cobertura de pruebas amplia y profunda, c8 juega un papel crucial en el desarrollo de software, promoviendo la creación de aplicaciones más robustas, confiables y mantenibles.</p>
<a id="md:3-github-actions" class="tsd-anchor"></a><h2><a href="#md:3-github-actions">3. Github Actions</a></h2><p>La adopción de herramientas de Integración Continua (CI) y Despliegue Continuo (CD) como GitHub Actions, Node.js, Coveralls y SonarCloud, juega un papel crucial en la mejora y mantenimiento de la calidad del software. Estas herramientas automatizan pruebas, análisis de cobertura de código y evaluaciones de calidad, facilitando el desarrollo de aplicaciones más robustas y confiables.</p>
<a id="md:nodejs" class="tsd-anchor"></a><h2><a href="#md:nodejs">Node.js</a></h2><p>GitHub Actions ofrece una plataforma de automatización directamente en GitHub, permitiendo definir flujos de trabajo para compilación, pruebas y despliegue.</p>
<p><em>Configuración para Node.js</em>:</p>
<ul>
<li>Subida al Repositorio: Iniciamos subiendo el proyecto actualizado a GitHub mediante comandos estándar:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">add</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">commit</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">push</span>
</code><button>Copy</button></pre>
<ul>
<li><p>Configuración de Workflow: En GitHub, se debe navegar a la pestaña &quot;Actions&quot;, seleccionamos &quot;New workflow&quot; y buscamos la plantilla de &quot;<em>Node.js</em>&quot;.</p>
</li>
<li><p>Definición del Workflow: Copiamos y pegamos el siguiente YAML en el editor de GitHub Actions para configurar el workflow:</p>
</li>
</ul>
<pre><code class="language-typescript"><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Tests</span><br/><br/><span class="hl-10">on</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">push</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1"> ]</span><br/><span class="hl-1">  </span><span class="hl-10">pull_request</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1"> ]</span><br/><br/><span class="hl-10">jobs</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">build</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-0">runs</span><span class="hl-1">-</span><span class="hl-10">on</span><span class="hl-1">: </span><span class="hl-0">ubuntu</span><span class="hl-1">-</span><span class="hl-0">latest</span><br/><br/><span class="hl-1">    </span><span class="hl-10">strategy</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-10">matrix</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-10">version</span><span class="hl-1">: [16.</span><span class="hl-0">x</span><span class="hl-1">, 18.</span><span class="hl-0">x</span><span class="hl-1">, 19.</span><span class="hl-0">x</span><span class="hl-1">, 20.</span><span class="hl-0">x</span><span class="hl-1">, 21.</span><span class="hl-0">x</span><span class="hl-1">]</span><br/><br/><span class="hl-1">    </span><span class="hl-10">steps</span><span class="hl-1">:</span><br/><span class="hl-1">    - </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">checkout</span><span class="hl-1">@</span><span class="hl-0">v4</span><br/><span class="hl-1">    - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Use</span><span class="hl-1"> </span><span class="hl-0">Node</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">{{ </span><span class="hl-0">matrix</span><span class="hl-1">.</span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-0">version</span><span class="hl-1"> }}</span><br/><span class="hl-1">      </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">setup</span><span class="hl-1">-</span><span class="hl-0">node</span><span class="hl-1">@</span><span class="hl-0">v4</span><br/><span class="hl-1">      </span><span class="hl-2">with</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-10">version</span><span class="hl-1">: </span><span class="hl-0">$</span><span class="hl-1">{{ </span><span class="hl-0">matrix</span><span class="hl-1">.</span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-0">version</span><span class="hl-1"> }}</span><br/><span class="hl-1">    - </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><br/><span class="hl-1">    - </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>
<ul>
<li>Inclusión de Status Badge: Copiamos el badge de estado proporcionado por GitHub y lo añadimos al README.md del proyecto.</li>
</ul>
<a id="md:coveralls" class="tsd-anchor"></a><h3><a href="#md:coveralls">Coveralls</a></h3><p>Coveralls es una herramienta en línea que ayuda a seguir la cobertura de código a lo largo del tiempo, proporcionando una visión detallada de qué partes del código no están siendo probadas.</p>
<p><em>Integración con Coveralls</em>:</p>
<p>Preparación: En caso de tener una integración previa, eliminamos Coveralls ejecutando:</p>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">uninstall</span><span class="hl-1"> </span><span class="hl-0">coveralls</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>
<ul>
<li>Instalación de Dependencias: Aseguramos que todas las dependencias estén actualizadas con</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>
<ul>
<li>Generación de Cobertura: Ejecutamos las pruebas y la generación de cobertura con</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>
<p>y</p>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">coverage</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>
<ul>
<li>Configuración del Workflow: Creamos un archivo llamado coveralls.yml en el directorio &quot;<em>.github/workflows</em>&quot; y copiamos el siguiente contenido:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Coveralls</span><br/><br/><span class="hl-10">on</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">push</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1"> ]</span><br/><span class="hl-1">  </span><span class="hl-10">pull_request</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1"> ]</span><br/><br/><span class="hl-10">jobs</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">build</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-0">runs</span><span class="hl-1">-</span><span class="hl-10">on</span><span class="hl-1">: </span><span class="hl-0">ubuntu</span><span class="hl-1">-</span><span class="hl-0">latest</span><br/><br/><span class="hl-1">    </span><span class="hl-10">steps</span><span class="hl-1">:</span><br/><span class="hl-1">    - </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">checkout</span><span class="hl-1">@</span><span class="hl-0">v4</span><br/><span class="hl-1">    - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Use</span><span class="hl-1"> </span><span class="hl-0">Node</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> 21.</span><span class="hl-0">x</span><br/><span class="hl-1">      </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">setup</span><span class="hl-1">-</span><span class="hl-0">node</span><span class="hl-1">@</span><span class="hl-0">v4</span><br/><span class="hl-1">      </span><span class="hl-2">with</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-10">version</span><span class="hl-1">: 21.</span><span class="hl-0">x</span><br/><span class="hl-1">    - </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">ci</span><br/><span class="hl-1">    - </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">coverage</span><br/><span class="hl-1">    - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Coveralls</span><span class="hl-1"> </span><span class="hl-0">GitHub</span><span class="hl-1"> </span><span class="hl-0">Action</span><br/><span class="hl-1">      </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">coverallsapp</span><span class="hl-1">/</span><span class="hl-0">github</span><span class="hl-1">-</span><span class="hl-0">action</span><span class="hl-1">@</span><span class="hl-0">v2</span><span class="hl-1">.</span><span class="hl-7">2.3</span><br/><span class="hl-1">      </span><span class="hl-2">with</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">github</span><span class="hl-1">-</span><span class="hl-10">token</span><span class="hl-1">: </span><span class="hl-0">$</span><span class="hl-1">{{ </span><span class="hl-0">secrets</span><span class="hl-1">.</span><span class="hl-8">GITHUB_TOKEN</span><span class="hl-1"> }}</span>
</code><button>Copy</button></pre>
<ul>
<li>Actualización y Badge: Tras subir este workflow a GitHub, añadimos el badge de estado de Coveralls en el README.md.</li>
</ul>
<a id="md:sonarcloud" class="tsd-anchor"></a><h3><a href="#md:sonarcloud">Sonarcloud</a></h3><p>SonarCloud automatiza el análisis de código para detectar problemas de calidad y seguridad en proyectos.</p>
<p><em>Configuración con SonarCloud</em>:</p>
<ul>
<li><p>Registro y Configuración: Accedemos a SonarCloud, iniciamos sesión y, si es necesario, importamos el proyecto desde GitHub.</p>
</li>
<li><p>Desactivación del Análisis Automático: En &quot;Administration &gt; Analysis Method&quot;, apagamos &quot;Automatic Analysis&quot;.</p>
</li>
<li><p>Configuración de GitHub Action: En &quot;Settings&quot; del repositorio en GitHub, añadimos los secretos proporcionados por SonarCloud.</p>
</li>
<li><p>Workflow de SonarCloud: Creamos un archivo &quot;<em>sonarcloud.yml</em>&quot; en &quot;<em>.github/workflows</em>&quot; con el siguiente contenido:</p>
</li>
</ul>
<pre><code class="language-typescript"><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Sonar</span><span class="hl-1">-</span><span class="hl-0">Cloud</span><span class="hl-1"> </span><br/><span class="hl-10">on</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">push</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-0">main</span><span class="hl-1"> ]</span><br/><span class="hl-1">  </span><span class="hl-10">pull_request</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">branches</span><span class="hl-1">: [ </span><span class="hl-0">main</span><span class="hl-1"> ]</span><br/><span class="hl-10">jobs</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-10">sonarcloud</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">SonarCloud</span><br/><span class="hl-1">    </span><span class="hl-0">runs</span><span class="hl-1">-</span><span class="hl-10">on</span><span class="hl-1">: </span><span class="hl-0">ubuntu</span><span class="hl-1">-</span><span class="hl-0">latest</span><br/><span class="hl-1">    </span><span class="hl-10">steps</span><span class="hl-1">:</span><br/><span class="hl-1">      - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Cloning</span><span class="hl-1"> </span><span class="hl-0">repo</span><br/><span class="hl-1">        </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">checkout</span><span class="hl-1">@</span><span class="hl-0">v3</span><br/><span class="hl-1">        </span><span class="hl-2">with</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-0">fetch</span><span class="hl-1">-</span><span class="hl-10">depth</span><span class="hl-1">: </span><span class="hl-7">0</span><span class="hl-1">  # </span><span class="hl-0">Shallow</span><span class="hl-1"> </span><span class="hl-0">clones</span><span class="hl-1"> </span><span class="hl-0">should</span><span class="hl-1"> </span><span class="hl-0">be</span><span class="hl-1"> </span><span class="hl-0">disabled</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">better</span><span class="hl-1"> </span><span class="hl-0">relevancy</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">analysis</span><br/><span class="hl-1">      - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Using</span><span class="hl-1"> </span><span class="hl-0">Node</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> 19.</span><span class="hl-0">x</span><br/><span class="hl-1">        </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">actions</span><span class="hl-1">/</span><span class="hl-0">setup</span><span class="hl-1">-</span><span class="hl-0">node</span><span class="hl-1">@</span><span class="hl-0">v3</span><br/><span class="hl-1">        </span><span class="hl-2">with</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-10">version</span><span class="hl-1">: 19.</span><span class="hl-0">x</span><br/><span class="hl-1">      - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Installing</span><span class="hl-1"> </span><span class="hl-0">dependencies</span><br/><span class="hl-1">        </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><br/><span class="hl-1">      - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">Generating</span><span class="hl-1"> </span><span class="hl-0">coverage</span><span class="hl-1"> </span><span class="hl-0">report</span><br/><span class="hl-1">        </span><span class="hl-10">run</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">coverage</span><br/><span class="hl-1">      - </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-0">SonarCloud</span><span class="hl-1"> </span><span class="hl-0">Scan</span><br/><span class="hl-1">        </span><span class="hl-10">uses</span><span class="hl-1">: </span><span class="hl-0">SonarSource</span><span class="hl-1">/</span><span class="hl-0">sonarcloud</span><span class="hl-1">-</span><span class="hl-0">github</span><span class="hl-1">-</span><span class="hl-0">action</span><span class="hl-1">@</span><span class="hl-0">master</span><br/><span class="hl-1">        </span><span class="hl-10">env</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-10">GITHUB_TOKEN</span><span class="hl-1">: </span><span class="hl-0">$</span><span class="hl-1">{{ </span><span class="hl-0">secrets</span><span class="hl-1">.</span><span class="hl-8">GITHUB_TOKEN</span><span class="hl-1"> }}  # </span><span class="hl-0">Needed</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-8">PR</span><span class="hl-1"> </span><span class="hl-0">information</span><span class="hl-1">, </span><span class="hl-2">if</span><span class="hl-1"> </span><span class="hl-0">any</span><br/><span class="hl-1">          </span><span class="hl-10">SONAR_TOKEN</span><span class="hl-1">: </span><span class="hl-0">$</span><span class="hl-1">{{ </span><span class="hl-0">secrets</span><span class="hl-1">.</span><span class="hl-8">SONAR_TOKEN</span><span class="hl-1"> }}</span>
</code><button>Copy</button></pre>
<ul>
<li>Configuración de Propiedades de SonarCloud: Creamos un archivo &quot;<em>sonar-project.properties</em>&quot; en el directorio raíz del proyecto con la siguiente configuración básica, ajustando los valores &quot;<em>sonar.projectKey</em>&quot; y &quot;<em>sonar.organization</em>&quot; según el proyecto en SonarCloud:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">projectKey</span><span class="hl-1">=</span><span class="hl-8">ULL</span><span class="hl-1">-</span><span class="hl-8">ESIT</span><span class="hl-1">-</span><span class="hl-8">INF</span><span class="hl-1">-</span><span class="hl-8">DSI</span><span class="hl-1">-2324</span><span class="hl-0">_Prueba</span><br/><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">organization</span><span class="hl-1">=</span><span class="hl-0">ull</span><span class="hl-1">-</span><span class="hl-0">esit</span><span class="hl-1">-</span><span class="hl-0">inf</span><span class="hl-1">-</span><span class="hl-0">dsi</span><span class="hl-1">-</span><span class="hl-7">2324</span><br/><br/><span class="hl-1"># </span><span class="hl-0">This</span><span class="hl-1"> </span><span class="hl-0">is</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">name</span><span class="hl-1"> </span><span class="hl-0">and</span><span class="hl-1"> </span><span class="hl-0">version</span><span class="hl-1"> </span><span class="hl-0">displayed</span><span class="hl-1"> </span><span class="hl-5">in</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">SonarCloud</span><span class="hl-1"> </span><span class="hl-8">UI</span><span class="hl-1">.</span><br/><span class="hl-1">#</span><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">projectName</span><span class="hl-1">=</span><span class="hl-0">Prueba</span><br/><span class="hl-1">#</span><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">projectVersion</span><span class="hl-1">=</span><span class="hl-7">1.0</span><br/><br/><span class="hl-1"># </span><span class="hl-0">Path</span><span class="hl-1"> </span><span class="hl-0">is</span><span class="hl-1"> </span><span class="hl-0">relative</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">sonar</span><span class="hl-1">-</span><span class="hl-0">project</span><span class="hl-1">.</span><span class="hl-0">properties</span><span class="hl-1"> </span><span class="hl-0">file</span><span class="hl-1">.</span><br/><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">sources</span><span class="hl-1">=</span><span class="hl-0">src</span><br/><br/><span class="hl-1"># </span><span class="hl-0">Encoding</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">source</span><span class="hl-1"> </span><span class="hl-0">code</span><span class="hl-1">.</span><br/><span class="hl-1">#</span><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">sourceEncoding</span><span class="hl-1">=</span><span class="hl-8">UTF</span><span class="hl-1">-</span><span class="hl-7">8</span><br/><br/><span class="hl-1"># </span><span class="hl-0">Source</span><span class="hl-1"> </span><span class="hl-0">code</span><span class="hl-1"> </span><span class="hl-0">coverage</span><br/><span class="hl-0">sonar</span><span class="hl-1">.</span><span class="hl-0">javascript</span><span class="hl-1">.</span><span class="hl-0">lcov</span><span class="hl-1">.</span><span class="hl-0">reportPaths</span><span class="hl-1">=</span><span class="hl-0">coverage</span><span class="hl-1">/</span><span class="hl-0">lcov</span><span class="hl-1">.</span><span class="hl-0">info</span>
</code><button>Copy</button></pre>
<ul>
<li>Inclusión de Status Badge: Finalmente, vamos a la página de SonarCloud y copiamos el status badge desde la sección &quot;Information&quot; situada en la esquina inferior izquierda de la interfaz del proyecto. Lo pegamos en el README.md del repositorio para mostrar el estado de calidad del código.</li>
</ul>
<p>Al seguir estos pasos, se establecerá una robusta infraestructura CI/CD para el proyecto Node.js, permitiéndonos monitorear y mejorar continuamente la calidad del código, la cobertura de pruebas y mantener altos estándares de seguridad y mantenibilidad en el desarrollo de software.</p>
<a id="md:4-ejercicio-propuesto" class="tsd-anchor"></a><h2><a href="#md:4-ejercicio-propuesto">4. Ejercicio Propuesto</a></h2><p>En el desarrollo de un sistema de gestión de cartas mágicas, hemos adoptado los principios de la programación orientada a objetos para garantizar un diseño flexible, escalable y mantenible. Este enfoque ha permitido crear un sistema que no solo facilita la representación detallada de las cartas mágicas sino que también proporciona funcionalidades para gestionar colecciones de cartas de manera eficiente.</p>
<p>A continuación, se describen los componentes principales del sistema, incluidas las enumeraciones, interfaces y clases desarrolladas:</p>
<p><em><strong>Enumeraciones (Enums)</strong></em>:</p>
<ul>
<li><p><em>EColor.ts</em>: Define los posibles colores de las cartas, facilitando la asignación de valores específicos como Blanco, Azul, Negro, Rojo, Verde, Incoloro y Multicolor. Este enfoque enumera de forma explícita las opciones de color, mejorando la legibilidad y evitando errores de tipografía.</p>
</li>
<li><p><em>ERareza.ts</em>: Enumera las categorías de rareza de las cartas, como Común, Infrecuente, Rara y Mítica. Esta clasificación permite manejar lógicas específicas basadas en la rareza de la carta dentro del sistema.</p>
</li>
<li><p><em>TipoLinea.ts</em>: Representa los diferentes tipos de cartas disponibles, tales como Tierra, Criatura, Encantamiento, Conjuro, Instantáneo, Artefacto y Planeswalker. Al clasificar las cartas por tipo, se facilita su organización y se permite la implementación de reglas específicas según el tipo de carta.</p>
</li>
</ul>
<p><em><strong>Interfaz Card</strong></em>:</p>
<p>Esta interfaz define la estructura básica de una carta mágica, incluyendo propiedades como id, nombre, costeMana, color, líneaTipo, rareza, textoReglas, entre otros. La presencia de propiedades opcionales como fuerzaResistencia y marcasLealtad permite la flexibilidad en la representación de diferentes tipos de cartas. La implementación de esta interfaz asegura que todas las cartas en el sistema compartan una estructura común, facilitando su manejo y procesamiento.</p>
<p><em><strong>Clase CardCollection</strong></em>:</p>
<p>La clase <em>CardCollection</em> sirve como contenedor para un conjunto de cartas, permitiendo operaciones como la adición, actualización, eliminación, listado y lectura de una carta en concreto. Esta clase utiliza un enfoque genérico para manejar colecciones de cualquier tipo de carta que cumpla con la interfaz <em>Card</em>, ofreciendo así una gran versatilidad. Funciones adicionales, como <em>getColorCode</em>, mejoran la interacción con las cartas al proporcionar una forma de obtener representaciones visuales de los colores de las cartas.</p>
<p>El código propuesto para cada enum, interfaz y clases son los siguientes:</p>
<ul>
<li><em>EColor.ts</em>:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-11">Color</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">Blanco</span><span class="hl-1"> = </span><span class="hl-3">&#39;Blanco&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Azul</span><span class="hl-1"> = </span><span class="hl-3">&#39;Azul&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Negro</span><span class="hl-1"> = </span><span class="hl-3">&#39;Negro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Rojo</span><span class="hl-1"> = </span><span class="hl-3">&#39;Rojo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Verde</span><span class="hl-1"> = </span><span class="hl-3">&#39;Verde&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Incoloro</span><span class="hl-1"> = </span><span class="hl-3">&#39;Incoloro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Multicolor</span><span class="hl-1"> = </span><span class="hl-3">&#39;Multicolor&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><em>ERareza.ts</em>:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-11">Rareza</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">Común</span><span class="hl-1"> = </span><span class="hl-3">&#39;Común&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Infrecuente</span><span class="hl-1"> = </span><span class="hl-3">&#39;Infrecuente&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Rara</span><span class="hl-1"> = </span><span class="hl-3">&#39;Rara&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Mítica</span><span class="hl-1"> = </span><span class="hl-3">&#39;Mítica&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><em>ETipoLínea.ts</em>:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">enum</span><span class="hl-1"> </span><span class="hl-11">TipoLinea</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">Tierra</span><span class="hl-1"> = </span><span class="hl-3">&#39;Tierra&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Criatura</span><span class="hl-1"> = </span><span class="hl-3">&#39;Criatura&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Encantamiento</span><span class="hl-1"> = </span><span class="hl-3">&#39;Encantamiento&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Conjuro</span><span class="hl-1"> = </span><span class="hl-3">&#39;Conjuro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Instantáneo</span><span class="hl-1"> = </span><span class="hl-3">&#39;Instantáneo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Artefacto</span><span class="hl-1"> = </span><span class="hl-3">&#39;Artefacto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">Planeswalker</span><span class="hl-1"> = </span><span class="hl-3">&#39;Planeswalker&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><em>ICard.ts</em>:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-11">Card</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">nombre</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">costeMana</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-11">Color</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">líneaTipo</span><span class="hl-1">: </span><span class="hl-11">TipoLinea</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">rareza</span><span class="hl-1">: </span><span class="hl-11">Rareza</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">textoReglas</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">fuerzaResistencia</span><span class="hl-1">?: [</span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-11">number</span><span class="hl-1">]; </span><span class="hl-12">// Opcional</span><br/><span class="hl-1">  </span><span class="hl-0">marcasLealtad</span><span class="hl-1">?: </span><span class="hl-11">number</span><span class="hl-1">; </span><span class="hl-12">// Opcional</span><br/><span class="hl-1">  </span><span class="hl-0">valorMercado</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><em>CardCollection.ts</em>:</li>
</ul>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-11">CardCollection</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-0">collection</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-0">user</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Constructor de la clase CardCollection.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{string}</span><span class="hl-12"> </span><span class="hl-0">user</span><span class="hl-12"> - Nombre del usuario.</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-0">user</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">user</span><span class="hl-1"> = </span><span class="hl-0">user</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">loadCollection</span><span class="hl-1">(); </span><span class="hl-12">// Cargar la colección al instanciar</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Método para obtener el código hexadecimal de un color.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{string}</span><span class="hl-12"> </span><span class="hl-0">colorName</span><span class="hl-12"> - Nombre del color.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{string}</span><span class="hl-12"> - Código hexadecimal del color.</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-4">getColorCode</span><span class="hl-1">(</span><span class="hl-0">colorName</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">): </span><span class="hl-11">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">colorMap</span><span class="hl-1">: { [</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">]: </span><span class="hl-11">string</span><span class="hl-1"> } = {</span><br/><span class="hl-1">      </span><span class="hl-0">blanco:</span><span class="hl-1"> </span><span class="hl-3">&#39;#FFFFFF&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">azul:</span><span class="hl-1"> </span><span class="hl-3">&#39;#0000FF&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">negro:</span><span class="hl-1"> </span><span class="hl-3">&#39;#000000&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">rojo:</span><span class="hl-1"> </span><span class="hl-3">&#39;#FF0000&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">verde:</span><span class="hl-1"> </span><span class="hl-3">&#39;#00FF00&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">incoloro:</span><span class="hl-1"> </span><span class="hl-3">&#39;#CCCCCC&#39;</span><span class="hl-1">, </span><span class="hl-12">// Suponiendo un gris para incoloro</span><br/><span class="hl-1">      </span><span class="hl-0">multicolor:</span><span class="hl-1"> </span><span class="hl-3">&#39;#FF00FF&#39;</span><span class="hl-1"> </span><span class="hl-12">// Ejemplo para multicolor</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">colorMap</span><span class="hl-1">[</span><span class="hl-0">colorName</span><span class="hl-1">.</span><span class="hl-4">toLowerCase</span><span class="hl-1">()] || </span><span class="hl-3">&#39;#000000&#39;</span><span class="hl-1">; </span><span class="hl-12">// Negro por defecto si no se encuentra</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que obtiene la carta con id específica ubicada en el directorio del usuario.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{number}</span><span class="hl-12"> </span><span class="hl-0">id</span><span class="hl-12"> - ID de la carta.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{string}</span><span class="hl-12"> - Carta ubicada en el directorio del usuario.</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-4">getCardFilePath</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">): </span><span class="hl-11">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-4">getUserDirPath</span><span class="hl-6">()</span><span class="hl-5">}</span><span class="hl-3">/</span><span class="hl-5">${</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que obtiene el directorio del usuario</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{string}</span><span class="hl-12"> - Directorio del usuario.</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">getUserDirPath</span><span class="hl-1">(): </span><span class="hl-11">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-3">`./data/</span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que retorna la colección de cartas.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{Card[]}</span><span class="hl-12"> - Colección de cartas del usuario.</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">getCards</span><span class="hl-1">(): </span><span class="hl-11">Card</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que carga una colección específica (en caso de existencia).</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">loadCollection</span><span class="hl-1">(): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">userDirPath</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getUserDirPath</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> (!</span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">existsSync</span><span class="hl-1">(</span><span class="hl-0">userDirPath</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">mkdirSync</span><span class="hl-1">(</span><span class="hl-0">userDirPath</span><span class="hl-1">, { </span><span class="hl-0">recursive:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> });</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">fileNames</span><span class="hl-1"> = </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">readdirSync</span><span class="hl-1">(</span><span class="hl-0">userDirPath</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1"> = </span><span class="hl-0">fileNames</span><span class="hl-1">.</span><span class="hl-4">map</span><span class="hl-1">(</span><span class="hl-0">fileName</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">filePath</span><span class="hl-1"> = </span><span class="hl-3">`</span><span class="hl-5">${</span><span class="hl-0">userDirPath</span><span class="hl-5">}</span><span class="hl-3">/</span><span class="hl-5">${</span><span class="hl-0">fileName</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">fileContent</span><span class="hl-1"> = </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">readFileSync</span><span class="hl-1">(</span><span class="hl-0">filePath</span><span class="hl-1">, </span><span class="hl-3">&#39;utf8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-4">parse</span><span class="hl-1">(</span><span class="hl-0">fileContent</span><span class="hl-1">) </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-11">Card</span><span class="hl-1">;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que añade una nueva carta a la colección.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{Card}</span><span class="hl-12"> </span><span class="hl-0">card</span><span class="hl-12"> - Carta a añadir.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">addCard</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">some</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">red</span><span class="hl-1">(</span><span class="hl-3">`La carta con ID </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3"> ya existe en la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">writeFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getCardFilePath</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">), </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-4">stringify</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">, </span><span class="hl-5">null</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">green</span><span class="hl-1">(</span><span class="hl-3">`Nueva carta añadida a la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que actualiza una carta existente en la colección.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{Card}</span><span class="hl-12"> </span><span class="hl-0">updatedCard</span><span class="hl-12"> - Carta actualizada.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">updateCard</span><span class="hl-1">(</span><span class="hl-0">updatedCard</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardIndex</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">findIndex</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">updatedCard</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">cardIndex</span><span class="hl-1"> === -</span><span class="hl-7">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">red</span><span class="hl-1">(</span><span class="hl-3">`La carta con ID </span><span class="hl-5">${</span><span class="hl-0">updatedCard</span><span class="hl-6">.</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3"> no existe en la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">[</span><span class="hl-0">cardIndex</span><span class="hl-1">] = </span><span class="hl-0">updatedCard</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">writeFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getCardFilePath</span><span class="hl-1">(</span><span class="hl-0">updatedCard</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">), </span><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-4">stringify</span><span class="hl-1">(</span><span class="hl-0">updatedCard</span><span class="hl-1">, </span><span class="hl-5">null</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">green</span><span class="hl-1">(</span><span class="hl-3">`Carta actualizada en la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que elimina una carta de la colección.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{number}</span><span class="hl-12"> </span><span class="hl-0">id</span><span class="hl-12"> - ID de la carta a eliminar.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">removeCard</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cardIndex</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">findIndex</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">cardIndex</span><span class="hl-1"> === -</span><span class="hl-7">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">red</span><span class="hl-1">(</span><span class="hl-3">`La carta con ID </span><span class="hl-5">${</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3"> no existe en la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-0">cardIndex</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-4">unlinkSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getCardFilePath</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">green</span><span class="hl-1">(</span><span class="hl-3">`Carta eliminada de la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que lista todas las cartas de la colección.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">listCards</span><span class="hl-1">(): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">bold</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-9">\n</span><span class="hl-3">Colección de cartas de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">colorCode</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getColorCode</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">bold</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">white</span><span class="hl-1">(</span><span class="hl-3">`ID: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">)));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">white</span><span class="hl-1">(</span><span class="hl-3">`Nombre: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">nombre</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Coste de Mana: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">costeMana</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Color: </span><span class="hl-5">${</span><span class="hl-0">chalk</span><span class="hl-6">.</span><span class="hl-4">hex</span><span class="hl-6">(</span><span class="hl-0">colorCode</span><span class="hl-6">)(</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">color</span><span class="hl-6">)</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Tipo de Línea: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">líneaTipo</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Rareza: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">rareza</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Texto de Reglas: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">textoReglas</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">líneaTipo</span><span class="hl-1"> === </span><span class="hl-3">&#39;Criatura&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Fuerza/Resistencia: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-6">[</span><span class="hl-7">0</span><span class="hl-6">]</span><span class="hl-5">}</span><span class="hl-3">/</span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-6">[</span><span class="hl-7">1</span><span class="hl-6">]</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">marcasLealtad</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">líneaTipo</span><span class="hl-1"> === </span><span class="hl-3">&#39;Planeswalker&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Marcas de Lealtad: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">marcasLealtad</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Valor de Mercado: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">valorMercado</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">&quot;&quot;</span><span class="hl-1">); </span><span class="hl-12">// Salto de línea para separar las cartas</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-12">/**</span><br/><span class="hl-12">   * Función que lee una carta específica de la colección.</span><br/><span class="hl-12">   * </span><span class="hl-5">@param</span><span class="hl-12"> </span><span class="hl-11">{number}</span><span class="hl-12"> </span><span class="hl-0">id</span><span class="hl-12"> - ID de la carta a leer.</span><br/><span class="hl-12">   * </span><span class="hl-5">@returns</span><span class="hl-12"> </span><span class="hl-11">{void}</span><br/><span class="hl-12">   */</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-4">readCard</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">card</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">collection</span><span class="hl-1">.</span><span class="hl-4">find</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> (!</span><span class="hl-0">card</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">red</span><span class="hl-1">(</span><span class="hl-3">`La carta con ID </span><span class="hl-5">${</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-3"> no existe en la colección de </span><span class="hl-5">${</span><span class="hl-5">this</span><span class="hl-6">.</span><span class="hl-0">user</span><span class="hl-5">}</span><span class="hl-3">.`</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">colorCode</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-4">getColorCode</span><span class="hl-1">(</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">bold</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-9">\n</span><span class="hl-3">Información de la carta con ID </span><span class="hl-5">${</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">chalk</span><span class="hl-1">.</span><span class="hl-4">white</span><span class="hl-1">(</span><span class="hl-3">`Nombre: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">nombre</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Coste de Mana: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">costeMana</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Color: </span><span class="hl-5">${</span><span class="hl-0">chalk</span><span class="hl-6">.</span><span class="hl-4">hex</span><span class="hl-6">(</span><span class="hl-0">colorCode</span><span class="hl-6">)(</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">color</span><span class="hl-6">)</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Tipo de Línea: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">líneaTipo</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Rareza: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">rareza</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Texto de Reglas: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">textoReglas</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">líneaTipo</span><span class="hl-1"> === </span><span class="hl-3">&#39;Criatura&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Fuerza/Resistencia: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-6">[</span><span class="hl-7">0</span><span class="hl-6">]</span><span class="hl-5">}</span><span class="hl-3">/</span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">fuerzaResistencia</span><span class="hl-6">[</span><span class="hl-7">1</span><span class="hl-6">]</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">marcasLealtad</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">card</span><span class="hl-1">.</span><span class="hl-0">líneaTipo</span><span class="hl-1"> === </span><span class="hl-3">&#39;Planeswalker&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Marcas de Lealtad: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">marcasLealtad</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">`Valor de Mercado: </span><span class="hl-5">${</span><span class="hl-0">card</span><span class="hl-6">.</span><span class="hl-0">valorMercado</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:5-conclusión" class="tsd-anchor"></a><h2><a href="#md:5-conclusión">5. Conclusión</a></h2><p>La Práctica 9 ha sido un ejercicio exhaustivo y enriquecedor que nos ha permitido explorar la profundidad y la versatilidad de TypeScript junto con Node.js para el desarrollo de aplicaciones de gestión de datos complejas. La implementación de un sistema para coleccionistas de cartas Magic ha servido como un campo de pruebas ideal para aplicar y ampliar nuestros conocimientos en áreas clave como la programación orientada a objetos, el manejo del sistema de archivos y la creación de interfaces de línea de comandos.</p>
<p>A través del diseño e implementación de este sistema, hemos logrado los siguientes puntos clave:</p>
<p>Flexibilidad y Escalabilidad: El uso de interfaces, clases y enumeraciones no solo organizó el código de manera lógica y coherente sino que también aseguró la flexibilidad para agregar nuevas funcionalidades o tipos de cartas sin alterar significativamente la base del código existente.</p>
<p>Persistencia de Datos: La habilidad para almacenar y recuperar información de las cartas mediante archivos JSON ha subrayado la importancia de la persistencia de datos en aplicaciones modernas, demostrando cómo gestionar eficazmente el almacenamiento local de datos.</p>
<p>Interfaz de Usuario Clara: La implementación de Yargs y Chalk ha permitido crear una interfaz de usuario en línea de comandos que no solo es intuitiva sino también visualmente atractiva, mejorando significativamente la experiencia del usuario final.</p>
<p>Cobertura y Calidad del Código: La incorporación de herramientas de cobertura de código y análisis de calidad, como c8 y SonarCloud, ha enfatizado la importancia de mantener altos estándares de calidad y seguridad en el código desde las primeras etapas del desarrollo.</p>
<a id="md:6-referencias-bibliográficas" class="tsd-anchor"></a><h2><a href="#md:6-referencias-bibliográficas">6. Referencias Bibliográficas</a></h2><ul>
<li><a href="https://nodejs.org/en/docs/"><em>Documentación Node.js</em></a>  </li>
<li><a href="https://docs.sonarsource.com/sonarcloud/?_gl=1*7gzv7o*_gcl_au*OTcwMDc2NTEzLjE3MTAyODczOTQ.*_ga*MTg1NTg1MjA5LjE3MTAyODczODA.*_ga_9JZ0GZ5TC6*MTcxMTA2MDA3Ni42LjEuMTcxMTA2MDA3Ni42MC4wLjA."><em>Documentación SonarCloud</em></a>  </li>
<li><a href="https://docs.github.com/en/actions"><em>Documentación Github Actions</em></a>  </li>
<li><a href="https://github.com/chalk/chalk"><em>Documentación Chalk</em></a>  </li>
<li><a href="https://github.com/yargs/yargs"><em>Documentación Yargs</em></a>  </li>
<li><a href="https://ull-esit-inf-dsi-2324.github.io/prct09-fiilesystem-magic-app/"><em>Práctica 9 - Aplicación para coleccionistas de cartas Magic</em></a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-de-práctica-9-aplicación-para-coleccionistas-de-cartas-magic"><span>Informe de <wbr/>Práctica 9: <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic</span></a><ul><li><a href="#md:status-badges"><span>Status <wbr/>Badges</span></a></li><li><a href="#md:índice"><span>Índice:</span></a></li><li><a href="#md:1-objetivo"><span>1. <wbr/>Objetivo</span></a></li><li><a href="#md:2-tareas-previas"><span>2. <wbr/>Tareas <wbr/>Previas</span></a></li><li><ul><li><a href="#md:yargs-y-chalk"><span>Yargs y <wbr/>Chalk</span></a></li><li><a href="#md:api-nodejs"><span>API <wbr/>Node.js</span></a></li><li><a href="#md:cobertura-de-código-c8"><span>Cobertura de código c8</span></a></li></ul></li><li><a href="#md:3-github-actions"><span>3. <wbr/>Github <wbr/>Actions</span></a></li><li><a href="#md:nodejs"><span>Node.js</span></a></li><li><ul><li><a href="#md:coveralls"><span>Coveralls</span></a></li><li><a href="#md:sonarcloud"><span>Sonarcloud</span></a></li></ul></li><li><a href="#md:4-ejercicio-propuesto"><span>4. <wbr/>Ejercicio <wbr/>Propuesto</span></a></li><li><a href="#md:5-conclusión"><span>5. <wbr/>Conclusión</span></a></li><li><a href="#md:6-referencias-bibliográficas"><span>6. <wbr/>Referencias <wbr/>Bibliográficas</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-alu0101515458</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>